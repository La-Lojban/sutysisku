"use strict";function e(e,t,n,a,i,r,c){try{var s=e[r](c),o=s.value}catch(e){return void n(e)}s.done?t(o):Promise.resolve(o).then(a,i)}function t(t){return function(){var n=this,a=arguments;return new Promise((function(i,r){var c=t.apply(n,a);function s(t){e(c,i,r,s,o,"next",t)}function o(t){e(c,i,r,s,o,"throw",t)}s(void 0)}))}}var n=document.getElementById("content"),a=document.getElementById("ciska"),r=document.getElementById("clear"),i=document.getElementById("outp"),c=document.getElementById("descr"),s=document.getElementById("drata"),o=document.getElementById("citri"),l=document.getElementById("sidju"),u=document.getElementById("kernelo_lo_cpacu"),d=new Worker("worker.js?sisku=1591871614933"),p=document.querySelector("#title > font"),g=document.querySelector("#site-title"),f=!1,m=3500;g.classList.add("desktop-mode-title-color");var h=document.getElementById("galtu-dasri"),v=document.getElementById("catni"),y=document.getElementById("cnano"),k=document.getElementById("rimni"),w=document.querySelectorAll("#title > img"),b=document.getElementById("scrollToTop");function switchBorderScroll(){n.scrollTop>200?n.scrollTop=0:n.scrollTop=n.scrollHeight}n.onscroll=function(){n.scrollTop>200?(b.style.display="block",b.classList.remove("dizlo")):b.classList.add("dizlo")};var E,L,x,q={BE:"bei",BEI:"be'o",BY:"boi",COI:"do'u",DOI:"do'u",FIhO:"fe'u",FUhE:"fu'o",GIhA:"vau",GOI:"ge'u",JOhI:"te'u",KE:"ke'e",LAhE:"lu'u",LA:"ku",LE:"ku",LI:"lo'o",LOhU:"le'u",LU:"li'u",ME:"me'u","NAhE+BO":"lu'u",NOI:"ku'o",NUhI:"nu'u",NU:"kei",PA:"boi",PEhO:"ku'e",SEI:"se'u",SOI:"se'u",TO:"toi",TUhE:"tu'u",VEI:"ve'o",LOhAI:"sa'ai",SAhAI:"le'ai",LOhOI:"ku'au",NAhU:"te'u",NIhE:"te'u",MOhE:"te'u"},I=[],C=function(e,t){clearTimeout(x),x=setTimeout(e,t)},j={searching:{seskari:"cnano",query:""},displaying:{seskari:"cnano",query:""},citri:[]};function S(){j.citri.length>0&&(o.innerHTML=" ".concat(window.purc).concat(j.citri.filter((function(e){return"velcusku"!==e.seskari})).map((function(e){var t=e.seskari,n=e.query;return'<a class="a-'.concat(t,'" href="#seskari=').concat(t,"&sisku=").concat(Le(n),'">').concat(qe(n),"</a>")})).join(", ")))}function _(e,t){var n=["velcusku","arxivo","cnano","rimni","catni"];n.includes(e)||(e="cnano"),h.className="kampu-dasri ".concat(e,"-dasri noselect"),g.classList.add("".concat(e,"-search-mode-title-color")),g.classList.remove("desktop-mode-title-color"),document.getElementById(e)&&document.getElementById(e).classList.add("".concat(e,"-tutci-hover"),"tutci-hover"),n.map((function(t){t!==e&&(g.classList.remove("".concat(t,"-search-mode-title-color")),document.getElementById(t)&&document.getElementById(t).classList.remove("".concat(t,"-tutci-hover"),"tutci-hover"))}));for(var a=0;a<w.length;a++)w[a].style.filter=t}function A(e){var t=e.action;if("complete"===document.readyState){var n=["logo"];"start"===t?(n.map((function(e){document.getElementById(e).classList.remove("stopRotate"),document.getElementById(e).classList.add("rotate")})),r.classList.add("pulsate-css"),setTimeout((function(){r.classList.contains("pulsate-css")&&a.classList.add("granim-css")}),500)):(n.map((function(e){document.getElementById(e).classList.add("stopRotate")})),a.classList.remove("granim-css"),r.classList.remove("pulsate-css"))}}function T(){_e&&_e.open()}function O(){MathJax.typesetPromise().then((function(){H(!0)}))}function N(e){var t=e.query,a=e.seskari;switch(B(),window.jimte="velcusku"===a?201:30,E=0,A({action:"stop"}),i.innerHTML="",Ie({query:t,seskari:a}),j.displaying.query=t,j.displaying.seskari=a,i.style.display="block",c.style.display="none",s.style.display="none",l.style.display="flex",n.scrollTop=0,j.displaying.seskari){case"rimni":O(),_("rimni","sepia(1.0)");break;case"arxivo":_("arxivo","none");break;case"velcusku":_("velcusku","none");break;case"catni":O(),_("catni","none");break;case"cnano":default:O(),_("cnano","none")}C((function(){W(),ga("send","pageview","#sisku/".concat(j.displaying.query));var e={dl:window.location.href,dt:document.title,dr:document.referrer,dp:"#sisku/".concat(j.displaying.query),dh:"".concat(window.location.protocol,"//").concat(window.location.hostname),z:Math.round(1e12*Math.random())};Se&&Se.emit("sisku",e)}),2e3)}function B(){[].forEach.call(document.querySelectorAll(".leader-line"),(function(e){e.parentNode.removeChild(e)}))}function M(){[].forEach.call(document.querySelectorAll(".leader-line"),(function(e){document.querySelector("#content").appendChild(e)}))}function H(e){B(),z(!e),ne=setTimeout((function(){if(!0!==e){var t=document.getElementsByClassName("jvo_plumber");f=!f;for(var n=0;n<t.length;n++){var a=t[n];a.value=ke(),f?a.classList.add("tutci-hover"):a.classList.remove("tutci-hover")}}if(f){var i=Array.from(document.querySelectorAll("[data-arr]")),r=function(){var e=i[n];if(e.attributes["data-head"]&&"1"!==e.attributes["data-head"].nodeValue)return"continue";var t=e.id,a=e.attributes["data-arr"].nodeValue.split(","),r=e.id.split("_").slice(0,-1),c=$(e);i.filter((function(e){var n=e.id.split("_").slice(0,-2),i=e.attributes["data-arr"].nodeValue.split(","),s=i[0].split(/(?=[0-9]+)/);if(1===i.length&&n.length===r.length&&n.join("_")===r.join("_")&&a.filter((function(e){var t=e.split(/(?=[0-9])/);return 0===s[0].indexOf(t[0])&&s[1]===t[1]})).length>0&&(c||$(e))){var o=e.attributes["data-color"].nodeValue;o="hsla(".concat(o,",100%,70%,0.62)"),new LeaderLine(document.getElementById(e.id),document.getElementById(t),{endPlugColor:o,color:o,dash:{animation:!0},startSocketGravity:[50,-67],endSocketGravity:[0,67],endPlug:"arrow2",endSocket:"bottom",size:3})}})),M()};for(n=0;n<i.length;n++)r()}}),!0===e?450:0)}function z(e){B(),te=setTimeout((function(){for(var e=document.querySelectorAll("[data-target]"),t=0;t<e.length;t++){var n=e[t];if($(n)){var a=n.id,i=n.attributes["data-target"].nodeValue;new LeaderLine(document.getElementById(i),document.getElementById(a),{endPlugColor:"rgba(255, 120, 0, 0.33)",color:"rgba(255, 120, 0, 0.33)",dash:{animation:!0},startSocketGravity:[50,-67],endSocketGravity:[0,67],endPlug:"arrow2",endSocket:"bottom",size:3})}}M(),m=450}),e?0:m)}function $(e){var t=e.getBoundingClientRect();return t=t.top>=48&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function J(e){if(""!==e){var t={},n="";n=0===e.search(/^#sisku\//)?[e.replace(/#sisku\/(.*)/,"sisku=$1")]:("#"===e[0]?e.substr(1):e).split("&");for(var a=0;a<n.length;a++){var i=n[a].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1].replace(/[\+]/g," ")||"")}return t}}function R(e){var t=e.href,n=e.replace;t&&(t=t.substring(t.indexOf("#")+1),localStorage.setItem("url","#".concat(t)));var a,i=J(t||window.location.hash);if(i&&i.sisku)a=xe(i.sisku).trim();else{if(t=(t=t||window.location.search).substring(t.indexOf("?")+1),!(a=xe(new URLSearchParams(t).get("focus")||"").trim()))return;i={sisku:a,seskari:"cnano"}}j.searching.seskari===i.seskari&&j.searching.query===a||(i.seskari&&["velcusku","cnano","catni","rimni","arxivo"].includes(i.seskari)&&(j.searching.seskari=i.seskari),i.sisku&&(j.searching.query=a,F({replace:n})))}function P(e){var t=e.target;if("A"===t.nodeName){var n=t;if(n.ctrlKey||n.metaKey)return;R({replace:!1,href:n.getAttribute("href")})}}function U(e){var t=e.replace,n="".concat(window.location.href.split("?")[0].split("#")[0],"#seskari=").concat(j.searching.seskari,"&sisku=").concat(Le(j.searching.query));""===j.searching.query?(n="",document.title="la sutysisku"):document.title="".concat(j.searching.query," - la sutysisku");var a=localStorage.getItem("url")||"";!0===t?window.history.replaceState({},null,n):window.location.hash!==n&&a!==n&&window.history.pushState({},null,n),localStorage.setItem("url",n)}function D(){j.searching.query=Ee(a.value),F({caller:"GetCiskaAndDispatch"})}function V(e){clearTimeout(L),L=setTimeout(D,e||250)}function Z(){j.searching.query=Ee(a.value),F({})}function G(){F({empty:!0})}function W(){if(""!==j.displaying.query&&"velcusku"!==j.displaying.seskari){var e=0;for(e=0;e<j.citri.length;e++)if(j.citri[e].query===j.displaying.query&&j.citri[e].seskari===j.displaying.seskari){j.citri.splice(e,1);break}j.citri.unshift(JSON.parse(JSON.stringify(j.displaying))),j.citri.length>10&&(j.citri.length=10),localStorage.setItem("citri",JSON.stringify(j.citri)),S()}}function F(e){var t=e.replace,n=e.caller,i=e.empty;if(_e&&_e.close(),j.searching.query=j.searching.query.trim(),U({replace:t}),localStorage.setItem("tcini",JSON.stringify(j.searching)),1==i)return j.searching.query="",K();if("velcusku"!==j.searching.seskari){if(""===j.searching.query)return K();if(JSON.stringify(j.searching)===JSON.stringify(j.displaying))return}switch(a.value=j.searching.query,A({action:"start"}),"GetCiskaAndDispatch"===n&&"velcusku"===j.searching.seskari&&(j.searching.seskari="cnano"),j.searching.seskari){case"arxivo":var r=JSON.parse(JSON.stringify(j.searching));"^"!==j.searching.query.charAt(0)&&"$"!==j.searching.query.slice(-1)[0]&&(r.query="\\b".concat(j.searching.query,"\\b")),r.max=20,Se&&Se.emit("cpedu_fi_la_arxivo",r);break;case"velcusku":T();break;default:d.postMessage({kind:"newSearch",query:j.searching.query,seskari:j.searching.seskari})}}function K(){B(),A({action:"stop"}),n.scrollTop=0;var e=j.displaying.query;j.displaying.query="",g.classList.add("desktop-mode-title-color"),g.classList.remove("catni-search-mode-title-color","cnano-search-mode-title-color","velcusku-search-mode-title-color","rimni-search-mode-title-color","arxivo-search-mode-title-color"),v.classList.remove("catni-tutci-hover","tutci-hover");try{y.classList.remove("cnano-tutci-hover","tutci-hover")}catch(e){}k.classList.remove("rimni-tutci-hover","tutci-hover"),h.className="kampu-dasri cnano-dasri",i.style.display="none",c.style.display="block";var t={"@CLL":[".inglic.","Reference Grammar","../pixra/cll.png",1,"https://lojban.pw/cll/uncll-1.2.7/xhtml_section_chunks/"],"@lojban.pw":[".inglic.","Lojban-Chan","../pixra/jbotcan.svg",1,"https://lojban.pw"],muplis:[0,"la muplis","../pixra/taplamuplis.svg",2.1],jb:[0,"English - Lojban examples","../pixra/snime-1.svg",1],en:[0,"English-Lojban","../pixra/selsku_lanci_eng.svg",1],jbo:[0,"fanva fi le'e lojbo ri","../pixra/lanci_jbo.svg",1],ja:[0,'日本 - <span style="white-space:pre;">ロジバン</span>',"../pixra/selsku_lanci_jpn.svg",1],"fr-facile":[0,"français facile - lojban","../pixra/selsku_lanci_fra.svg",1],ru:[0,"русский - ложбан","../pixra/selsku_lanci_rus.svg",1],eo:[0,"Esperanto - Loĵbano","../pixra/lanci_epo.svg",1],es:[0,"español - lojban","../pixra/selsku_lanci_spa.svg",1],zh:[0,"中文 - 逻辑语","../pixra/selsku_lanci_zho.svg",1],"@CC":[".inglic.","The Crash Course","../pixra/cogwheel-5.svg",1,"https://mw.lojban.org/papri/The_Crash_Course_in_Lojban"]},a="";for(var r in t)0!==t[r][0]&&t[r][0]!==window.bangu||(a+="<div class='DIV_1' style='height:".concat(100,"px;width:").concat(100*t[r][3],"px;'><div class='DIV_2' style='height:").concat(100,"px;width:").concat(100*t[r][3],"px;'><span class='SPAN_3' style='width:auto;'><b class='B_4'>").concat(t[r][1],"</b></span><a").concat(0===(t[r][4]||"").indexOf("http")?" rel='noreferrer' target='_blank'":"",' aria-label="').concat(t[r][1].replace(/<[^>]+?>/g,""),'" href="').concat(0===r.indexOf("@")?t[r][4]:"https://la-lojban.github.io/sutysisku/".concat(r,"/#seskari=").concat(j.displaying.seskari,"&sisku=").concat(Le(e)),"\" class='A_7'><div class='DIV_8' style='height:").concat(100,"px;width:").concat(100*t[r][3],'px;background-image:url("').concat(t[r][2],"\")'></div></a></div></div>"));s.innerHTML=a,s.style.display="block"}function Y(e){var t=e.keyCode;t&&191===t&&a.focus()}function Q(){n.setAttribute("style","height:".concat(Math.max(document.documentElement.clientHeight,window.innerHeight||0),"px;"))}function X(e){var t=window.arrcll[e];return t||(t=window.arrcll[e.replace(/[^A-Z]+$/,"")]),t}function ee(e){var t=e.pre,n=e.valsi;if(!(!window.cll_url|0===(window.arrcll||[]).length)){if(t&&!n.match(/^[A-Zh]+[\+A-Zh0-9]*$/))return{};var a=X(n);if(!a)return{};var i="".concat(window.cllnotci,"<ul class='uoldeliste'>").concat(Object.keys(a).map((function(e){return"<li><a rel='noreferrer' target='_blank' href=\"".concat(window.cll_url).concat(e,'">').concat(qe(a[e]),"</a></li>")})).join(""),"</ul>"),r=document.createElement("div");return r.className="".concat(t?"sidju":"definition"," cll noselect"),r.innerHTML=i,{secs:a,div:r}}}!function(){try{var e=JSON.parse(localStorage.getItem("tcini"));e.seskari&&(j.searching.seskari=e.seskari),e.query&&(j.searching.query=e.query)}catch(e){}try{j.citri=JSON.parse(localStorage.getItem("citri"))||[]}catch(e){}}(),S(),d.onmessage=function(e){var t=e.data;if("ready"==t.kind){document.title="la sutysisku";var n=document.getElementById("loading");n.parentNode.removeChild(n),R({replace:!0})}else if("searchResults"==t.kind){if(JSON.stringify(t.req)!==JSON.stringify(j.searching))return;if(JSON.stringify(t.req)===JSON.stringify(j.displaying))return;I=t.results||[],N({query:t.req.query,seskari:t.req.seskari})}else"loading"==t.kind?(document.getElementById("caho_cpacu").textContent=window.bangubuild,u.style.width="51%"):"progress"==t.kind&&(u.style.width="".concat(100*t.percent,"%"))},o.addEventListener("click",P),window.addEventListener("popstate",R),a.addEventListener("paste",V(0)),a.addEventListener("keyup",(function(){V()})),a.addEventListener("keydown",(function(){clearTimeout(L)})),a.addEventListener("input",V()),a.addEventListener("textInput",V()),a.addEventListener("focus",Z),r.addEventListener("click",G),document.getElementById("title").addEventListener("click",G),document.getElementById("rimni").addEventListener("click",(function(){j.searching={seskari:"rimni",query:Ee(a.value)},F({replace:!1})})),document.getElementById("cnano").addEventListener("click",(function(){j.searching={seskari:"cnano",query:Ee(a.value)},F({replace:!1})})),document.getElementById("catni").addEventListener("click",(function(){j.searching={seskari:"catni",query:Ee(a.value)},F({replace:!1})})),window.addEventListener("resize",Q,!0),n.addEventListener("scroll",ae),Q(),document.attachEvent?document.attachEvent("onkeyup",Y):document.addEventListener("keyup",Y),"loading"===document.readyState&&(u.style.width="37%",document.title="la sutysisku");var te=null,ne=null;function ae(e){var t=e.target;B(),null!==te&&clearTimeout(te),null!==ne&&clearTimeout(ne),"velcusku"!==j.displaying.seskari&&t.scrollTop+window.innerHeight>=i.clientHeight-700?(window.jimte+=10,Ie(j.displaying),MathJax.typesetPromise().then((function(){H(!0)}))):H(!0)}function re(e,t,n){return e=e.replace(/[\{\}_]/g,""),Math.abs(Math.round(e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)%t/n)*n)}function ie(e){var t=(e=e.substr(1,e.length-2).split("=")).map((function(e){return e.replace(/[^A-Za-z']/g,"")}));return{jalge:t,hasExpansion:e.length>1||t[0]&&"x"!==t[0]}}function ce(e){var t=e.v,n=e.fullDef,a=e.subtype,i=e.dataArrAdded,r=e.b,c=e.veljvoLs;return i.includes(r)||"r"!==a&&"lujvo"!==n.t?"":(t=(t=(t=t.substr(1,t.length-2).split("=").map((function(e){return"r"===a?n.w+e.replace(/[^0-9]/g,""):e.replace(/[^0-9A-Za-z']/g,"")}))).filter((function(e){var t=e.replace(/[0-9]/g,"");if(!(c.filter((function(e){return 0===e.indexOf(t)&&e!==t})).length>0))return!0}))).join(","),' data-arr="'.concat(t,'"'))}function se(e){var t=e.def,n=e.fullDef,a=e.query,i=e.seskari,r=e.type,c=e.index,s=0,o=[],l=[],u=[],d=[],p=!1;["cnano","catni","rimni"].includes(i)||(i="cnano");var g=t.replace(/\$.*?\$/g,(function(e,t,n){if("d"===r&&void 0!==c){var a=ie(e);a.hasExpansion&&(p=!0),d=d.concat(a.jalge);var i=n.substr(t),s=new RegExp("^(".concat(e.replace(/[^a-zA-Z0-9\{\}_]/g,"")," \\([^\\(\\)<>]+?\\)).*")),o=e;0===i.search(s)&&(o=i.replace(s,"$1"));var u={};u[e]=o,l.push(u)}return e}));return{tergeha:"<span>".concat(g.replace(/\$.*?\$/g,(function(e,t,a){if("d"===r&&void 0!==c){var i=a.substr(t),p=new RegExp("^(".concat(e.replace(/[^a-zA-Z0-9\{\}_]/g,"")," \\([^()<>]+?\\)).*")),g=e;if(0===i.search(p))g=i.replace(p,"$1");else{var h=l.filter((function(t){return t[e]&&t[e]!==g}))[0];h&&(g=h[e])}s++;var m="".concat(c,"_").concat(s),f={};f[e]=m,o.push(f);var v=e.replace(/[^a-zA-Z0-9]/g,""),y="";(n&&n.rfs||[]).length&&(y=' data-head="1"');var k=ce({subtype:""!==y?"d":"r",v:e,fullDef:n,dataArrAdded:u,b:v,veljvoLs:d});e='<span id="'.concat(m,'" class="terbricmi" style="background-color: hsl(').concat(re(g,256,16),", 100%, 90%);border-radius:").concat(re(g,9,1)+3,'px"').concat(k).concat(y,' data-color="').concat(re(g,256,16),'">').concat(e,"</span>"),u.push(v)}return e})).replace(/(<span [^<>]+?>[^\(\)<>]+?<\/span>) \([^\(\)<>]*?\bproperty of <span id="([^\(\)<>]+?)"[^<>]+?>([^\(\)<>]+?)<\/span>\)/g,(function(e,t,n,a){if("d"===r){var i=o.filter((function(e){return e[a]!==n&&e[a]}));i[0]&&i[0][a]&&(e=e.replace(/^<span /,'<span data-target="'.concat(i[0][a],'" ')))}return e})).replace(/\$.*?\$/g,(function(e){return e.replace(/\{/g,"\\curlyleft").replace(/\}/g,"\\curlyright")})).replace(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g,(function(e){var t='</span><a href="'.concat(e,'" rel="noreferrer" target="_blank">').concat(le({def:e,query:a}),"</a><span>");return e.match(/^https?:\/\/.*\.(jpg|png)$/)&&(t+="<img class='se-tcidu-pixra' alt='secusku' src=\"".concat(e,'"/>\n')),t})).replace(/\{.*?\}/g,(function(e){e=e.substring(1,e.length-1);return'</span><a class="a-'.concat(i,'" href="#seskari=').concat(i,"&sisku=").concat(Le(e),'">').concat(le({def:qe(e,!0),query:a}),"</a><span>")})).replace(/\$.*?\$/g,(function(e){return e.replace(/\\curlyleft/g,"{").replace(/\\curlyright/g,"}")})),"</span>").replace(/<span><\/span>/g,"").replace(/(>[^<>$]+<|>[^<>$]+\$|\$[^<>$]+<)/g,(function(e){return le({def:e,query:a})})),hasExpansion:p}}function oe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function le(e){var t=e.def,n=e.query;if(!n||""===n)return t;var a="(".concat(oe(n).replace(/ /g,"|"),"|").concat(oe(n).replace(/'/g,"h").replace(/ /g,"|"),")"),i=new RegExp(a,"igm");return t.replace(i,"<span class='basna'>$1</span>")}var ue=60800,de="ptkflscmx.' 1234bdgvrzjn`-,~    aeiouy    qw    AEIOUY";function pe(e){return e.replace(/\./g,"").replace(/^/,".").toLowerCase().replace(/([aeiou\.])u([aeiou])/g,"$1w$2").replace(/([aeiou\.])i([aeiou])/g,"$1ɩ$2").replace(/au/g,"ḁ").replace(/ai/g,"ą").replace(/ei/g,"ę").replace(/oi/g,"ǫ").replace(/\./g,"")}function ge(e){return e.replace(/w/g,"u").replace(/ɩ/g,"i").replace(/ḁ/g,"au").replace(/ą/g,"ai").replace(/ę/g,"ei").replace(/ǫ/g,"oi")}function fe(e){var t=e.w,n=e.ot,a=e.rfs,i=pe(t);return n&&"vlaza'umei"===n?a.map((function(e){return fe(e)})).join(" "):(i=i.split(/(?=[ɩw])/).map((function(e){return ge(e).split("").map((function(e){return me(e)})).join("")})).join("")).replace(/,/g,"")}function me(e){return e.codePointAt(0)>=60800?e:" "==e?" ":("h"!=e&&"H"!=e||(e="'"),de.includes(e)?String.fromCodePoint(ue+de.indexOf(e)):de.includes(e.toLowerCase())?String.fromCodePoint(ue+de.indexOf(e.toLowerCase())):"\n"==e?"\n":"\t"==e?"\t":e)}function he(e,t){for(var n,a=new RegExp(e,"g"),i=[];n=a.exec(t);)i.push(n.index);return i}function ve(e,t,n){return n.indexOf(e)===t}function ye(e,t,n){var a=he(t,e);a=a.map((function(t){return(t=[t-n,t+n])[0]<0&&(t[0]=0),t[0]>=e.length&&(t[0]=e.length-1),t}));for(var i=0;i<a.length-1;i++)a[i][1]>a[i+1][0]&&(a[i][1]=a[i+1][1],a[i+1][0]=a[i][0]);if((a=a.map((function(e){return JSON.stringify(e)}))).length>0)a=(a=a.filter(ve).map((function(n){n=JSON.parse(n);var a=e.substr(n[0],n[1]-n[0]);return a=le({def:a,query:t}),n[0]>3&&(a="...".concat(a)),n[1]<e.length-4&&(a="".concat(a,"...")),a}))).join("<br/>");else{var r=e.substr(0,Math.min(100,e.length));r.length<e.length&&(r="".concat(r,"...")),a=r=le({def:r,query:t})}return a}function ke(){return f?"⇔":"↔"}function we(e){var t=e.def,n=e.inner,a=e.query,i=e.seskari,r=e.index;a||(a=j.searching.query),i||(i=j.searching.seskari),t||(t=[]);var c=document.createElement("div");if(c.className=n?"terminner":"termouter",c.classList.add("term"),!n&&t.d&&t.d.nasezvafahi&&0===(t.rfs||[]).length&&(c.className="sidju cll noselect"),void 0!==q[t.s]){var s=document.createElement("h4");s.className="tfm",s.innerHTML='&nbsp;&nbsp;<i><sup>[&nbsp;...&nbsp;&nbsp;&nbsp;<a href="#seskari='.concat(i,"&sisku=").concat(Le(q[t.s]),'">').concat(qe(q[t.s]),"</a>]</sup></i>")}var o=[];for(var l in q)q[l]===t.w&&o.push('<a href="#seskari='.concat(i,"&sisku=").concat(Le(l),'">').concat(qe(l),"</a>"));if(0!==o.length){var u=document.createElement("div");u.classList.add("valsi"),t.l&&u.classList.add("nalojbo"),u.innerHTML="<i><sup>[".concat(o.join(", "),"&nbsp;&nbsp;&nbsp;...&nbsp;]</sup></i>&nbsp;&nbsp;")}if(t.s){var d;(d=document.createElement("a")).className="tutci klesi klesi-tutci";var p=le({def:qe(t.s),query:a});d.innerHTML=p,"velcusku"!==i&&(d.href="#seskari=".concat(i,"&sisku=").concat(Le(t.s)))}if(t.t){var g;(g=document.createElement("a")).className="klesi link noselect";p=t.t;var h=Le(t.w).replace(/_/g,"%20");g.href=window.judri?window.judri+h:"#seskari=".concat("catni"===i?"catni":"cnano","&sisku=").concat(h),window.judri&&(g.setAttribute("target","_blank"),g.setAttribute("rel","noreferrer"));var m="";t.t.search("sampu staile")>=0&&(m+="<img src='../pixra/plise.png' height='16' width='16' alt='lo staile poi sampu'>"),t.t.search("mansa staile")>=0&&(m+="<img src='../pixra/pelxuplise.png' height='16' width='16' alt=\"lo staile poi na mutce cinri\">"),t.t.search("plixau jufra")>=0&&(m+="<img src='../pixra/crinoplise.png' height='16' width='16' alt=\"lo jufra poi ka'e xamgu lo di'i fanva\">"),t.t.search("cnano staile")>=0&&(m+="<img src='../pixra/blabiplise.png' height='16' width='16' alt=\"lo staile poi ka'e pluja\">"),t.t.search("non-standard")>=0&&(m+="<img src='../pixra/cicnaplise.png' height='16' width='16' alt=\"na'e catni se ciska staile\">"),""!==m&&(p=m),window.xuzganalojudri&&!t.l&&(p="".concat(qe(t.t),"# "),t.d&&t.d.nasezvafahi&&(p="➕ ".concat(p))),g.innerHTML=p}t.date&&((g=document.createElement("div")).className="tutci klesi klesi-tutci",g.style.whiteSpace="nowrap",g.innerHTML=t.date);t.from&&((d=document.createElement("div")).className="tutci klesi klesi-tutci",d.innerHTML=t.from);var v=document.createElement("h4");v.classList.add("valsi"),v.setAttribute("data-valsi",encodeURIComponent(t.w)),t.l&&v.classList.add("nalojbo"),Ee(t.w)==a||"velcusku"==i?v.innerHTML="".concat(le({def:t.w,query:a})," "):v.innerHTML='<a class="valsi'.concat(t.l?"":" nalojbo",'" href="#seskari=').concat(i,"&sisku=").concat(Le(t.w),'">').concat(le({def:qe(t.w,!0),query:a}),"</a> ");var y={};t.d&&!t.d.nasezvafahi&&(y=se({def:t.d,fullDef:t,query:a,seskari:i,type:"d",index:r}));var k=document.createElement("h4");k.classList.add("valsi","zbalermorna"),k.textContent=fe(t);var w=document.createElement("heading");if(w.classList.add("heading"),u&&w.appendChild(u),w.appendChild(v),k&&t.w.length<=20&&!window.muplis&&w.appendChild(k),s&&w.appendChild(s),"lujvo"===t.t&&(t.rfs||[]).length>0&&y.hasExpansion){var b=document.createElement("input");b.type="button",b.classList.add("tutci","sance","jvo_plumber"),b.value=ke(),f?b.classList.add("tutci-hover"):b.classList.remove("tutci-hover"),b.onclick=H,w.appendChild(b)}var E=document.createElement("heading");E.style.flex=1,w.appendChild(E),g&&w.appendChild(g),d&&w.appendChild(d);try{var L=new Audio("/sutysisku/sance/vreji/".concat(be(t.w),".mp3"));L.id="sance_".concat(be(t.w)),L.addEventListener("canplaythrough",(function(){var e=Array.from(document.querySelectorAll('[data-valsi="'.concat(be(t.w),'"]')))[0];e&&!document.getElementById("sance_".concat(be(t.w)))&&(e.innerHTML+='<button class="tutci sance" onclick="document.getElementById(\'sance_'.concat(be(t.w),"').play()\">▶</button>"),e.appendChild(L))}))}catch(e){}if(c.appendChild(w),k&&(window.muplis||t.w.length>20)&&c.appendChild(k),"arxivo"!==i&&t.d){if((I=document.createElement("div")).classList.add("definition","valsi"),t.d&&t.d.nasezvafahi){if(!t.t&&0===(t.rfs||[]).length)return;I.classList.add("nasezvafahi","noselect"),I.innerHTML=window.nasezvafahi}else{var x=y.tergeha;"velcusku"!==i&&(x="".concat(x.replace(/\n/g,"<br/>")," ")),I.innerHTML=x}c.appendChild(I)}if("arxivo"===i){var I,C=document.createElement("div");C.classList.add("definition","valsi","pointer"),C.innerHTML=ye(t.d,a,50),C.addEventListener("click",(function(){C.style.display="none",C.nextElementSibling.style.display="block"})),c.appendChild(C),(I=document.createElement("div")).classList.add("definition","valsi"),I.style.display="none",t.d&&t.d.nasezvafahi?(I.classList.add("nasezvafahi","noselect"),I.innerHTML=window.nasezvafahi):(I.innerHTML="".concat(le({def:t.d,query:a}).replace(/\n/g,"<br/>")," "),I.addEventListener("click",(function(){I.style.display="none",I.previousElementSibling.style.display="block",I.parentElement.scrollIntoView()}))),c.appendChild(I)}t.n&&((I=document.createElement("div")).classList.add("notes","valsi"),I.innerHTML="".concat(se({def:t.n,query:a,seskari:i}).tergeha," "),c.appendChild(I));if(0==r&&"velcusku"!==i){var S=ee({valsi:t.w}),_=S.secs,A=S.div;_&&_!==j.cll&&c.appendChild(A)}t.e&&((I=document.createElement("div")).classList.add("examples","valsi"),I.innerHTML="<table class='ciksi'>".concat(se({def:"".concat(t.e,"\n").replace(/%/g,"\n").replace(/(.*?) — (.*?)\n/g,"<tr><td class='mupligreku'><b>$1</b></td><td class='mupligreku'><i>$2</i></td></tr>\n"),query:a,seskari:i}).tergeha,"</table> "),c.appendChild(I));t.k&&((I=document.createElement("div")).className="related",I.innerHTML="See also: ".concat(se({def:t.k,query:a,seskari:i}).tergeha," "),c.appendChild(I));if((t.r||[]).length>0&&!t.l&&window.xuzganalojudri){var T=document.createElement("div");for(T.className="rafsi noselect",T.innerHTML="rafsi: ",z=0;z<t.r.length;z++){var O=document.createElement("span");O.className="pamei";var N=t.r[z];if((t.t||"").match(/lujvo/)){var B=document.createElement("a");B.setAttribute("href","#seskari=".concat(i,"&sisku=").concat(Le(N))),B.text=N,O.appendChild(B)}else O.innerHTML=le({def:N,query:a});O.innerHTML="".concat(O.innerHTML," "),T.appendChild(O)}c.appendChild(T)}if((t.rfs||[]).length>0){var M=document.createElement("div");M.classList.add("definition","subdefinitions");for(var z=0;z<t.rfs.length;z++){var $=we({def:t.rfs[z],inner:!0,index:"".concat(r,"_").concat(z)});$&&M.appendChild($)}c.appendChild(M)}return c.addEventListener("click",P),c}function be(e){return encodeURIComponent(e).replace(/'/g,"h")}function Ee(e){return"^"!==e.charAt(0)&&"$"!==e.slice(-1)?e.replace(/\./g," ").replace(/ {2,}/g," ").replace(/’/g,"'").trim():e}function Le(e){return encodeURIComponent((e||"").replace(/ /g,"_")).replace(/'/g,"%27")}function xe(e){return decodeURIComponent(e.replace(/&amp;/g,"&").replace(/%27/g,"'")).replace(/[_]/g," ")}function qe(e,t){return e=(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;"),t||(e=e.replace(/'/g,"&#039;")),e}function Ie(e){var t=e.query,n=e.seskari,a=Math.min(window.jimte,I.length);if(j.cll=void 0,0===E){var r=ee({pre:!0,valsi:j.searching.query}),c=r.secs,s=r.div;j.cll=c,s&&i.appendChild(s)}for(;E<a;E++)i.appendChild(we({def:I[E],query:t,seskari:n,length:I.length,index:E}))}function Ce(){return je.apply(this,arguments)}function je(){return(je=t(regeneratorRuntime.mark((function e(){var t,n,a,i,r,c,s,o,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Dexie("sorcu")).version(2).stores({valsi:"++id, bangu, w, d, n, t, g, r"}),n=0,a=["en","ru","eo","es","fr-facile","ja","jbo","ru","zh"];case 3:if(!(n<a.length)){e.next=21;break}return i=a[n],e.next=7,fetch("/sutysisku/data/parsed-".concat(i,".json?sisku=").concat(new Date.getTime));case 7:r=e.sent,c=r.json(),s=Object.keys(c),o=0,l=s;case 11:if(!(o<l.length)){e.next=18;break}return u=l[o],e.next=15,t.valsi.add(c[u]);case 15:o++,e.next=11;break;case 18:n++,e.next=3;break;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"serviceWorker"in navigator?window.addEventListener("load",(function(){navigator.serviceWorker.register("./sw.js").then((function(e){var t=e.scope;console.log("ServiceWorker registration successful with scope: ",t)}),(function(e){console.log("ServiceWorker registration failed: ",e)}))})):alert("Your browser is not supported. Please, upgrade to the latest Chrome / Firefox / Safari.");var Se,_e,Ae=[["p","t","k","f","s","c"],["b","d","g","v","z","j"],["m","l","n","r",,"x","'"],["a","e","i","o","u","y"],[],["aia","aua"],["au","ai","ei","oi"]],Te=document.querySelector("#audio");function Oe(e,t,n){var a=document.createElement(e);return a.textContent=t,n&&(a.className=n),a}function Ne(e,t,n){var a=document.createElement(e);return n&&(a.className=n),Array.isArray(t)?t.forEach((function(e){a.appendChild(e)})):t&&a.appendChild(t),a}function Be(e){Te.src=e,Te.play()}document.querySelector("#table").appendChild(Ne("table",Ae.map((function(e){return Ne("tr",e.map((function(e){var t=Oe("button",e,"bangu");return t.onclick=function(){Be("/sutysisku/sance/lerfu/".concat(encodeURIComponent(e),".ogg"))},Ne("td",t)})))})),"centero")),a.focus();