var content=document.getElementById("content"),ciska=document.getElementById("ciska"),clear=document.getElementById("clear"),outp=document.getElementById("outp"),descr=document.getElementById("descr"),drata=document.getElementById("drata"),citri=document.getElementById("citri"),sidju=document.getElementById("sidju"),pb=document.getElementById("kernelo_lo_cpacu"),worker=new Worker("worker.js?sisku=1591447742225"),SiteTitle=document.querySelector("#title > font"),SiteTitleFull=document.querySelector("#site-title"),plumbs=[],jvoPlumbs=[],jvoPlumbsOn=!1,plumbsTimeout=3500;SiteTitleFull.classList.add("desktop-mode-title-color");var dasri=document.getElementById("galtu-dasri"),catni=document.getElementById("catni"),cnano=document.getElementById("cnano"),rimni=document.getElementById("rimni"),SiteImage=document.querySelectorAll("#title > img"),btnScrollToTop=document.getElementById("scrollToTop");content.onscroll=function(){200<content.scrollTop?(btnScrollToTop.style.display="block",btnScrollToTop.classList.remove("dizlo")):btnScrollToTop.classList.add("dizlo")};function switchBorderScroll(){content.scrollTop=200<content.scrollTop?0:content.scrollHeight}var resultCount,typingTimer,IdleTypingTimer,fm={BE:"bei",BEI:"be'o",BY:"boi",COI:"do'u",DOI:"do'u",FIhO:"fe'u",FUhE:"fu'o",GIhA:"vau",GOI:"ge'u",JOhI:"te'u",KE:"ke'e",LAhE:"lu'u",LA:"ku",LE:"ku",LI:"lo'o",LOhU:"le'u",LU:"li'u",ME:"me'u","NAhE+BO":"lu'u",NOI:"ku'o",NUhI:"nu'u",NU:"kei",PA:"boi",PEhO:"ku'e",SEI:"se'u",SOI:"se'u",TO:"toi",TUhE:"tu'u",VEI:"ve'o",LOhAI:"sa'ai",SAhAI:"le'ai",LOhOI:"ku'au",NAhU:"te'u",NIhE:"te'u",MOhE:"te'u"},results=[],delay=function(){return function(a,b){clearTimeout(IdleTypingTimer),IdleTypingTimer=setTimeout(a,b)}}(),state={searching:{seskari:"cnano",query:""},displaying:{seskari:"cnano",query:""},citri:[]};(function(){try{var a=JSON.parse(localStorage.getItem("tcini"));a.seskari&&(state.searching.seskari=a.seskari),a.query&&(state.searching.query=a.query)}catch(a){}try{state.citri=JSON.parse(localStorage.getItem("citri"))||[]}catch(a){}})(),RenderCitri();function RenderCitri(){0<state.citri.length&&(citri.innerHTML=" "+window.purc+state.citri.filter(function(b){return"velcusku"!==b.seskari}).map(function(b){return"<a class=\"a-"+b.seskari+"\" href=\"#seskari="+b.seskari+"&sisku="+encodeUrl(b.query)+"\">"+escHtml(b.query)+"</a>"}).join(", "))}function RenderDasri(a,b){var c=["velcusku","arxivo","cnano","rimni","catni"];c.includes(a)||(a="cnano"),dasri.className="kampu-dasri "+a+"-dasri noselect",SiteTitleFull.classList.add(a+"-search-mode-title-color"),SiteTitleFull.classList.remove("desktop-mode-title-color"),document.getElementById(a)&&document.getElementById(a).classList.add(a+"-tutci-hover","tutci-hover"),c.map(function(b){b!==a&&(SiteTitleFull.classList.remove(b+"-search-mode-title-color"),document.getElementById(b)&&document.getElementById(b).classList.remove(b+"-tutci-hover","tutci-hover"))});for(var d=0;d<SiteImage.length;d++)SiteImage[d].style.filter=b}function SwitchRotation({action:a}){if("complete"===document.readyState){var b=["logo"];"start"===a?(b.map(function(a){document.getElementById(a).classList.remove("stopRotate"),document.getElementById(a).classList.add("rotate")}),clear.classList.add("pulsate-css"),setTimeout(()=>{clear.classList.contains("pulsate-css")&&ciska.classList.add("granim-css")},500)):(b.map(function(a){document.getElementById(a).classList.add("stopRotate")}),ciska.classList.remove("granim-css"),clear.classList.remove("pulsate-css"))}}function EmitVelcusku(){socket1Chat&&socket1Chat.open()}function RenderResults({query:a,seskari:b}){var c=Math.round;switch(removePlumbs(),removeJvoPlumbs(),window.jimte="velcusku"===b?201:30,resultCount=0,SwitchRotation({action:"stop"}),outp.innerHTML="",skicu_rolodovalsi({query:a,seskari:b}),state.displaying.query=a,state.displaying.seskari=b,outp.style.display="block",descr.style.display="none",drata.style.display="none",sidju.style.display="flex",content.scrollTop=0,state.displaying.seskari){case"rimni":MathJax.typeset(),RenderDasri("rimni","sepia(1.0)");break;case"arxivo":RenderDasri("arxivo","none");break;case"velcusku":RenderDasri("velcusku","none");break;case"catni":MathJax.typeset(),RenderDasri("catni","none");break;case"cnano":default:MathJax.typesetPromise().then(function(){addPlumbs(),addJvoPlumbs(!0)}),RenderDasri("cnano","none");}delay(function(){DispatchCitri(),ga("send","pageview","#sisku/"+state.displaying.query);var a={dl:window.location.href,dt:document.title,dr:document.referrer,dp:"#sisku/"+state.displaying.query,dh:window.location.protocol+"//"+window.location.hostname,z:c(1e12*Math.random())};socket&&socket.emit("sisku",a)},2e3)}function removePlumbs(){plumbs.map(function(a){a.remove()}),plumbs=[]}function removeJvoPlumbs(){jvoPlumbs.map(function(a){a.remove()}),jvoPlumbs=[]}function addJvoPlumbs(a){removeJvoPlumbs(),scrollJvoTimer=setTimeout(function(){if(!0!==a&&(jvoPlumbsOn=!jvoPlumbsOn),!!jvoPlumbsOn){targetedEls=Array.from(document.querySelectorAll("[data-arr]"));for(var b=0;b<targetedEls.length;b++){el=targetedEls[b];var c=el.id,d=el.attributes["data-arr"].nodeValue.split(","),e=el.id.split("_");if(3!==e.length){var f=e[0],g=kahe_sezgana(el);targetedEls.filter(function(a){var b=a.id.split("_"),e=b[0],h=a.attributes["data-arr"].nodeValue.split(","),i=h[0].split(/(?=[0-9]+)/);if(1===h.length&&3===b.length&&e===f&&0<d.filter(function(a){var b=a.split(/(?=[0-9])/);return 0===i[0].indexOf(b[0])&&i[1]===b[1]}).length&&(g||kahe_sezgana(a))){var j=a.attributes["data-color"].nodeValue;j="hsla("+j+",100%,70%,0.62)",t=new LeaderLine(document.getElementById(a.id),document.getElementById(c),{endPlugColor:j,color:j,dash:{animation:!0},startSocketGravity:[50,-67],endSocketGravity:[0,67],endPlug:"arrow2",endSocket:"bottom",size:3}),jvoPlumbs.push(t)}})}}plumbsTimeout=450}},plumbsTimeout)}function addPlumbs(){removePlumbs(),scrollTimer=setTimeout(function(){targetedEls=document.querySelectorAll("[data-target]");for(var a=0;a<targetedEls.length;a++)if(el=targetedEls[a],kahe_sezgana(el)){var b=el.id,c=el.attributes["data-target"].nodeValue;t=new LeaderLine(document.getElementById(c),document.getElementById(b),{endPlugColor:"rgba(255, 120, 0, 0.33)",color:"rgba(255, 120, 0, 0.33)",dash:{animation:!0},startSocketGravity:[50,-67],endSocketGravity:[0,67],endPlug:"arrow2",endSocket:"bottom",size:3}),plumbs.push(t)}plumbsTimeout=450},plumbsTimeout)}function kahe_sezgana(a){var b=a.getBoundingClientRect();return b=48<=b.top&&0<=b.left&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth),b}worker.onmessage=function(a){var b=a.data;if("ready"==b.kind){document.title="la sutysisku";var c=document.getElementById("loading");c.parentNode.removeChild(c),setStateFromUrl({replace:!0})}else if("searchResults"==b.kind){if(JSON.stringify(b.req)!==JSON.stringify(state.searching))return;if(JSON.stringify(b.req)===JSON.stringify(state.displaying))return;results=b.results||[],RenderResults({query:b.req.query,seskari:b.req.seskari})}else"loading"==b.kind?(document.getElementById("caho_cpacu").textContent=window.bangubuild,pb.style.width="51%"):"progress"==b.kind&&(pb.style.width=100*b.percent+"%")},socket&&(void 0).on("la_arxivo_cu_cusku",function(a){state.searching.seskari===a.seskari&&state.searching.query===a.query&&(results=a.message||[],RenderResults({query:a.query,seskari:a.seskari}))});function parseQuery(a){var b={},c="";c=0===a.search(/^#sisku\//)?[a.replace(/#sisku\/(.*)/,"sisku=$1")]:("#"===a[0]?a.substr(1):a).split("&");for(var d,e=0;e<c.length;e++)d=c[e].split("="),b[decodeURIComponent(d[0])]=decodeURIComponent(d[1]||"");return b}function setStateFromUrl({href:a,replace:b}){a&&(a=a.substring(a.indexOf("#")+1),localStorage.setItem("url","#"+a));var c=parseQuery(a||window.location.hash);if(c.sisku){var d=decodeUrl(c.sisku).trim();(state.searching.seskari!==c.seskari||state.searching.query!==d)&&(c.seskari&&0<=["velcusku","cnano","catni","rimni","arxivo"].indexOf(c.seskari)&&(state.searching.seskari=c.seskari),c.sisku&&(state.searching.query=d,DispatchState({replace:b})))}}citri.addEventListener("click",clicked);function clicked(a){if("A"===a.target.nodeName){var b=a.target;if(b.ctrlKey||b.metaKey)return;setStateFromUrl({replace:!1,href:b.getAttribute("href")})}}function setUrlFromState({replace:a}){var b="#seskari="+state.searching.seskari+"&sisku="+encodeUrl(state.searching.query);""===state.searching.query?(b="",document.title="la sutysisku"):document.title=state.searching.query+" - la sutysisku";var c=localStorage.getItem("url")||"";!0===a?window.history.replaceState({},null,b):window.location.hash!==b&&c!==b&&window.history.pushState({},null,b),localStorage.setItem("url",b)}window.addEventListener("popstate",setStateFromUrl),ciska.addEventListener("paste",typing(0)),ciska.addEventListener("keyup",function(){typing()}),ciska.addEventListener("keydown",function(){clearTimeout(typingTimer)}),ciska.addEventListener("input",typing()),ciska.addEventListener("textInput",typing());function GetCiskaAndDispatch(){state.searching.query=plukaquery(ciska.value),DispatchState({caller:"GetCiskaAndDispatch"})}function typing(b){clearTimeout(typingTimer),typingTimer=setTimeout(GetCiskaAndDispatch,b?b:250)}ciska.addEventListener("focus",focusSearch);function focusSearch(){state.searching.query=plukaquery(ciska.value),DispatchState({})}clear.addEventListener("click",EmptyState),document.getElementById("title").addEventListener("click",EmptyState);function EmptyState(){DispatchState({empty:!0})}document.getElementById("rimni").addEventListener("click",function(){state.searching={seskari:"rimni",query:plukaquery(ciska.value)},DispatchState({replace:!1})}),document.getElementById("cnano").addEventListener("click",function(){state.searching={seskari:"cnano",query:plukaquery(ciska.value)},DispatchState({replace:!1})}),document.getElementById("catni").addEventListener("click",function(){state.searching={seskari:"catni",query:plukaquery(ciska.value)},DispatchState({replace:!1})});function DispatchCitri(){if(""!==state.displaying.query&&"velcusku"!==state.displaying.seskari){var a=0;for(a=0;a<state.citri.length;a++)if(state.citri[a].query===state.displaying.query&&state.citri[a].seskari===state.displaying.seskari){state.citri.splice(a,1);break}state.citri.unshift(JSON.parse(JSON.stringify(state.displaying))),10<state.citri.length&&(state.citri.length=10),localStorage.setItem("citri",JSON.stringify(state.citri)),RenderCitri()}}function DispatchState({replace:a,caller:b,empty:c}){if(socket1Chat&&socket1Chat.close(),state.searching.query=state.searching.query.trim(),setUrlFromState({replace:a}),localStorage.setItem("tcini",JSON.stringify(state.searching)),!0==c)return state.searching.query="",RenderDesktop();if("velcusku"!==state.searching.seskari){if(""===state.searching.query)return RenderDesktop();if(JSON.stringify(state.searching)===JSON.stringify(state.displaying))return}switch(ciska.value=state.searching.query,SwitchRotation({action:"start"}),"GetCiskaAndDispatch"===b&&"velcusku"===state.searching.seskari&&(state.searching.seskari="cnano"),state.searching.seskari){case"arxivo":var d=JSON.parse(JSON.stringify(state.searching));"^"!==state.searching.query.charAt(0)&&"$"!==state.searching.query.slice(-1)[0]&&(d.query="\\b"+state.searching.query+"\\b"),d.max=20,socket&&socket.emit("cpedu_fi_la_arxivo",d);break;case"velcusku":EmitVelcusku();break;default:worker.postMessage({kind:"newSearch",query:state.searching.query,seskari:state.searching.seskari});}}function RenderDesktop(){removePlumbs(),removeJvoPlumbs(),SwitchRotation({action:"stop"}),content.scrollTop=0;var a=state.displaying.query;state.displaying.query="",SiteTitleFull.classList.add("desktop-mode-title-color"),SiteTitleFull.classList.remove("catni-search-mode-title-color","cnano-search-mode-title-color","velcusku-search-mode-title-color","rimni-search-mode-title-color","arxivo-search-mode-title-color"),catni.classList.remove("catni-tutci-hover","tutci-hover");try{cnano.classList.remove("cnano-tutci-hover","tutci-hover")}catch(a){}rimni.classList.remove("rimni-tutci-hover","tutci-hover"),dasri.className="kampu-dasri cnano-dasri",outp.style.display="none",descr.style.display="block";var b={"@CLL":[".inglic.","Reference Grammar","../pixra/cll.png",1,"https://lojban.pw/cll/uncll-1.2.7/xhtml_section_chunks/"],"@lojban.pw":[".inglic.","Lojban-Chan","../pixra/jbotcan.svg",1,"https://lojban.pw"],muplis:[0,"la muplis","../pixra/taplamuplis.svg",2.1],jb:[0,"English - Lojban examples","../pixra/snime-1.svg",1],en:[0,"English-Lojban","../pixra/selsku_lanci_eng.svg",1],jbo:[0,"fanva fi le'e lojbo ri","../pixra/lanci_jbo.svg",1],ja:[0,"\u65E5\u672C - <span style=\"white-space:pre;\">\u30ED\u30B8\u30D0\u30F3</span>","../pixra/selsku_lanci_jpn.svg",1],"fr-facile":[0,"fran\xE7ais facile - lojban","../pixra/selsku_lanci_fra.svg",1],ru:[0,"\u0440\u0443\u0441\u0441\u043A\u0438\u0439 - \u043B\u043E\u0436\u0431\u0430\u043D","../pixra/selsku_lanci_rus.svg",1],eo:[0,"Esperanto - Lo\u0135bano","../pixra/lanci_epo.svg",1],es:[0,"espa\xF1ol - lojban","../pixra/selsku_lanci_spa.svg",1],zh:[0,"\u4E2D\u6587 - \u903B\u8F91\u8BED","../pixra/selsku_lanci_zho.svg",1],"@CC":[".inglic.","The Crash Course","../pixra/cogwheel-5.svg",1,"https://mw.lojban.org/papri/The_Crash_Course_in_Lojban"]},c="",d=100;for(var e in b)(0===b[e][0]||b[e][0]===window.bangu)&&(c+="<div class='DIV_1' style='height:"+d+"px;width:"+b[e][3]*d+"px;'><div class='DIV_2' style='height:"+d+"px;width:"+b[e][3]*d+"px;'><span class='SPAN_3' style='width:auto;'><b class='B_4'>"+b[e][1]+"</b></span><a"+(0===(b[e][4]||"").indexOf("http")?" rel='noreferrer' target='_blank'":"")+" aria-label=\""+b[e][1].replace(/<[^>]+?>/g,"")+"\" href=\""+(0===e.indexOf("@")?b[e][4]:"https://la-lojban.github.io/sutysisku/"+e+"/#seskari="+state.displaying.seskari+"&sisku="+encodeUrl(a))+"\" class='A_7'><div class='DIV_8' style='height:"+d+"px;width:"+b[e][3]*d+"px;background-image:url(\""+b[e][2]+"\")'></div></a></div></div>");drata.innerHTML=c,drata.style.display="block"}window.addEventListener("resize",calcVH,!0),content.addEventListener("scroll",checkScrolledNearBottom),calcVH(),document.attachEvent?document.attachEvent("onkeyup",handler):document.addEventListener("keyup",handler);function handler(a){a.keyCode&&191===a.keyCode&&ciska.focus()}"loading"===document.readyState&&(pb.style.width="37%",document.title="la sutysisku");function calcVH(){content.setAttribute("style","height:"+Math.max(document.documentElement.clientHeight,window.innerHeight||0)+"px;")}function getCLLSections(a){return window.arrcll[a]}function CLL(a){if(!("rimni"===state.searching.seskari||!window.cll_url|0===(window.arrcll||[]).length||!a&&results[0].s&&results[0].s.replace(/[0-9]+[a-z]*\*?$/,"")===state.searching.query||a&&!/^[A-Zh]+/.test(state.searching.query))){var b;if(a?b=getCLLSections(state.searching.query):(b=getCLLSections(state.searching.query),!b&&results&&results[0]&&results[0].s&&(b=getCLLSections(results[0].s)||getCLLSections(state.searching.query.toLowerCase().replace(/h/g,"'")))),!!b){var c=window.cllnotci+"<ul class='uoldeliste'>"+Object.keys(b).map(function(a){return"<li><a rel='noreferrer' target='_blank' href=\""+window.cll_url+a+"\">"+escHtml(b[a])+"</a></li>"}).join("")+"</ul>",d=document.createElement("div");return d.className=(a?"sidju":"definition")+" cll noselect",d.innerHTML=c,d}}}var scrollTimer=null,scrollJvoTimer=null;function checkScrolledNearBottom(a){removePlumbs(),removeJvoPlumbs(),null!==scrollTimer&&clearTimeout(scrollTimer),null!==scrollJvoTimer&&clearTimeout(scrollJvoTimer),"velcusku"!==state.displaying.seskari&&a.target.scrollTop+window.innerHeight>=outp.clientHeight-700?(window.jimte+=10,skicu_rolodovalsi(state.displaying),MathJax.typesetPromise().then(function(){addPlumbs(),addJvoPlumbs(!0)})):(addPlumbs(),addJvoPlumbs(!0))}function string2Int(a,b,c){var d=Math.abs,e=Math.round;return a=a.replace(/[\{\}_]/g,""),d(e(a.split("").reduce(function(c,d){return c=(c<<5)-c+d.charCodeAt(0),c&c},0)%b/c)*c)}function veljvoLetters(a){a=a.substr(1,a.length-2).split("=");var b=a.map(function(a){return a.replace(/[^A-Za-z']/g,"")});return{jalge:b,hasExpansion:1<a.length||b[0]&&"x"!==b[0]}}function veljvoString({v:a,fullDef:c,subtype:d,dataArrAdded:e,b:f,veljvoLs:b}){return 0<=e.indexOf(f)?"":"r"!==d&&"lujvo"!==c.t?"":(a=a.substr(1,a.length-2).split("=").map(function(a){return"r"===d?c.w+a.replace(/[^0-9]/g,""):a.replace(/[^0-9A-Za-z']/g,"")}),a=a.filter(function(a){var c=a.replace(/[0-9]/g,"");return!(0<b.filter(function(a){return 0===a.indexOf(c)&&a!==c}).length)||void 0}),a=a.join(",")," data-arr=\""+a+"\"")}function melbi_uenzi({def:a,fullDef:d,query:e,seskari:f,type:g,subtype:h,index:i}){var j=0,k=[],l=[],m=[],n=[],o=!1;["cnano","catni","rimni"].includes(f)||(f="cnano");var p=a.replace(/\$.*?\$/g,function(a,b,c){if("d"===g&&"undefined"!=typeof i){var d=veljvoLetters(a);d.hasExpansion&&(o=!0),n=n.concat(d.jalge);var e=c.substr(b),f=new RegExp("^("+a.replace(/[^a-zA-Z0-9\{\}_]/g,"")+" \\([^\\(\\)<>]+?\\)).*"),h=a;0===e.search(f)&&(h=e.replace(f,"$1"));var j={};j[a]=h,l.push(j)}return a}),q=("<span>"+p.replace(/\$.*?\$/g,function(e,f,o){if("d"===g&&"undefined"!=typeof i){var p=o.substr(f),q=new RegExp("^("+e.replace(/[^a-zA-Z0-9\{\}_]/g,"")+" \\([^()<>]+?\\)).*"),r=e;if(0===p.search(q))r=p.replace(q,"$1");else{var s=l.filter(function(a){return a[e]&&a[e]!==r})[0];s&&(r=s[e])}j++;var u=i+"_"+j,v={};v[e]=u,k.push(v);var a=e.replace(/[^a-zA-Z0-9]/g,""),b=veljvoString({subtype:h,v:e,fullDef:d,dataArrAdded:m,b:a,veljvoLs:n});e="<span id=\""+u+"\" class=\"terbricmi\" style=\"background-color: hsl("+string2Int(r,256,16)+", 100%, 90%);border-radius:"+(string2Int(r,9,1)+3)+"px\""+b+" data-color=\""+string2Int(r,256,16)+"\">"+e+"</span>",m.push(a)}return e}).replace(/(<span [^<>]+?>[^\(\)<>]+?<\/span>) \([^\(\)<>]*?\bproperty of <span id="([^\(\)<>]+?)"[^<>]+?>([^\(\)<>]+?)<\/span>\)/g,function(b,d,f,h){if("d"===g){var e=k.filter(function(a){return a[h]!==f&&a[h]});e[0]&&e[0][h]&&(b=b.replace(/^<span /,"<span data-target=\""+e[0][h]+"\" "))}return b}).replace(/\$.*?\$/g,function(a){return a.replace(/\{/g,"\\curlyleft").replace(/\}/g,"\\curlyright")}).replace(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g,function(a){var b="</span><a href=\""+a+"\" rel=\"noreferrer\" target=\"_blank\">"+basna({def:a,query:e})+"</a><span>";return a.match(/^https?:\/\/.*\.(jpg|png)$/)&&(b+="<img class='se-tcidu-pixra' alt='secusku' src=\""+a+"\"/>\n"),b}).replace(/\{.*?\}/g,function(a){var a=a.substring(1,a.length-1);return"</span><a class=\"a-"+f+"\" href=\"#seskari="+f+"&sisku="+encodeUrl(a)+"\">"+basna({def:escHtml(a,!0),query:e})+"</a><span>"}).replace(/\$.*?\$/g,function(a){return a.replace(/\\curlyleft/g,"{").replace(/\\curlyright/g,"}")})+"</span>").replace(/<span><\/span>/g,"").replace(/(>[^<>$]+<|>[^<>$]+\$|\$[^<>$]+<)/g,function(a){return basna({def:a,query:e})});return{tergeha:q,hasExpansion:o}}function escapeRegExp(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function basna({def:a,query:b}){if(!b||""===b)return a;var c="("+escapeRegExp(b).replace(/ /g,"|")+"|"+escapeRegExp(b).replace(/'/g,"h").replace(/ /g,"|")+")",d=new RegExp(c,"igm");return a.replace(d,"<span class='basna'>$1</span>")}var UNICODE_START=60800,lerfu_index="ptkflscmx.' 1234bdgvrzjn`-,~    aeiouy    qw    AEIOUY";function krulermorna(a){return a.replace(/\./g,"").replace(/^/,".").toLowerCase().replace(/([aeiou\.])u([aeiou])/g,"$1w$2").replace(/([aeiou\.])i([aeiou])/g,"$1\u0269$2").replace(/au/g,"\u1E01").replace(/ai/g,"\u0105").replace(/ei/g,"\u0119").replace(/oi/g,"\u01EB").replace(/\./g,"")}function cohukrulermorna(a){return a.replace(/w/g,"u").replace(/ɩ/g,"i").replace(/ḁ/g,"au").replace(/ą/g,"ai").replace(/ę/g,"ei").replace(/ǫ/g,"oi")}function zbalermornaize(a){var b=krulermorna(a.w);return a.ot&&"vlaza'umei"===a.ot?a.rafsiDocuments.map(function(a){return zbalermornaize(a)}).join(" "):(b=b.split(/(?=[ɩw])/).map(function(a){return cohukrulermorna(a).split("").map(function(a){return latinToZbalermorna(a)}).join("")}).join(""),b.replace(/,/g,""))}function latinToZbalermorna(a){var b=String.fromCodePoint;return 60800<=a.codePointAt(0)?a:" "==a?" ":(("h"==a||"H"==a)&&(a="'"),0<=lerfu_index.indexOf(a))?b(UNICODE_START+lerfu_index.indexOf(a)):0<=lerfu_index.indexOf(a.toLowerCase())?b(UNICODE_START+lerfu_index.indexOf(a.toLowerCase())):"\n"==a?"\n":"\t"==a?"\t":a}function getMatchIndices(a,b){for(var c,d=new RegExp(a,"g"),e=[];c=d.exec(b);)e.push(c.index);return e}function onlyUnique(a,b,c){return c.indexOf(a)===b}function ConstructArxivoValsiExtract(a,b,c){var d=Math.min,e=getMatchIndices(b,a);e=e.map(function(b){return b=[b-c,b+c],0>b[0]&&(b[0]=0),b[0]>=a.length&&(b[0]=a.length-1),b});for(var f=0;f<e.length-1;f++)e[f][1]>e[f+1][0]&&(e[f][1]=e[f+1][1],e[f+1][0]=e[f][0]);if(e=e.map(function(a){return JSON.stringify(a)}),0<e.length)e=e.filter(onlyUnique).map(function(c){c=JSON.parse(c);var d=a.substr(c[0],c[1]-c[0]);return d=basna({def:d,query:b}),3<c[0]&&(d="..."+d),c[1]<a.length-4&&(d+="..."),d}),e=e.join("<br/>");else{var g=a.substr(0,d(100,a.length));g.length<a.length&&(g+="..."),g=basna({def:g,query:b}),e=g}return e}function skicu_palodovalsi({def:b,inner:c,query:d,seskari:e,index:f,subtype:g}){d||(d=state.searching.query),e||(e=state.searching.seskari),b||(b=[]);var h=document.createElement("div");if(h.className=c?"terminner":"termouter",h.classList.add("term"),!c&&b.d&&b.d.nasezvafahi&&0===(b.rafsiDocuments||[]).length&&(h.className="sidju cll noselect"),"undefined"!=typeof fm[b.s]){var j=document.createElement("h4");j.className="tfm",j.innerHTML="&nbsp;&nbsp;<i><sup>[&nbsp;...&nbsp;&nbsp;&nbsp;<a href=\"#seskari="+e+"&sisku="+encodeUrl(fm[b.s])+"\">"+escHtml(fm[b.s])+"</a>]</sup></i>"}var l=[];for(var m in fm)fm[m]===b.w&&l.push("<a href=\"#seskari="+e+"&sisku="+encodeUrl(m)+"\">"+escHtml(m)+"</a>");if(0!==l.length){var o=document.createElement("div");o.classList.add("valsi"),b.l&&o.classList.add("nalojbo"),o.innerHTML="<i><sup>["+l.join(", ")+"&nbsp;&nbsp;&nbsp;...&nbsp;]</sup></i>&nbsp;&nbsp;"}if(b.s){var p=document.createElement("a");p.className="tutci klesi klesi-tutci";var q=basna({def:escHtml(b.s),query:d});p.innerHTML=q,"velcusku"!==e&&(p.href="#seskari="+e+"&sisku="+encodeUrl(b.s))}if(b.t){var r=document.createElement("a");r.className="klesi link";var q=b.t,s=encodeUrl(b.w).replace(/_/g,"%20");r.href=window.judri?window.judri+s:"#seskari="+("catni"===e?"catni":"cnano")+"&sisku="+s,window.judri&&(r.setAttribute("target","_blank"),r.setAttribute("rel","noreferrer"));var u="";0<=b.t.search("sampu staile")&&(u+="<img src='../pixra/plise.png' height='16' width='16' alt='lo staile poi sampu'>"),0<=b.t.search("mansa staile")&&(u+="<img src='../pixra/pelxuplise.png' height='16' width='16' alt=\"lo staile poi na mutce cinri\">"),0<=b.t.search("plixau jufra")&&(u+="<img src='../pixra/crinoplise.png' height='16' width='16' alt=\"lo jufra poi ka'e xamgu lo di'i fanva\">"),0<=b.t.search("cnano staile")&&(u+="<img src='../pixra/blabiplise.png' height='16' width='16' alt=\"lo staile poi ka'e pluja\">"),0<=b.t.search("non-standard")&&(u+="<img src='../pixra/cicnaplise.png' height='16' width='16' alt=\"na'e catni se ciska staile\">"),""!=u&&(q=u),window.xuzganalojudri&&!b.l&&(q=escHtml(b.t)+"# ",b.d&&b.d.nasezvafahi&&(q="\u2795 "+q)),r.innerHTML=q}if(b.date){var r=document.createElement("div");r.className="tutci klesi klesi-tutci",r.style.whiteSpace="nowrap",r.innerHTML=b.date}if(b.from){var p=document.createElement("div");p.className="tutci klesi klesi-tutci",p.innerHTML=b.from}var v=document.createElement("h4");v.classList.add("valsi"),v.setAttribute("data-valsi",encodeURIComponent(b.w)),b.l&&v.classList.add("nalojbo"),v.innerHTML=plukaquery(b.w)==d||"velcusku"==e?basna({def:b.w,query:d})+" ":"<a class=\"valsi"+(b.l?"":" nalojbo")+"\" href=\"#seskari="+e+"&sisku="+encodeUrl(b.w)+"\">"+basna({def:escHtml(b.w,!0),query:d})+"</a> ";var w={};b.d&&!b.d.nasezvafahi&&(w=melbi_uenzi({def:b.d,fullDef:b,query:d,seskari:e,type:"d",index:f,subtype:g}));var x=document.createElement("h4");x.classList.add("valsi","zbalermorna"),x.textContent=zbalermornaize(b);var y=document.createElement("heading");y.classList.add("heading"),o&&y.appendChild(o),y.appendChild(v),x&&20>=b.w.length&&!window.muplis&&y.appendChild(x),j&&y.appendChild(j);var z=document.createElement("heading");if(z.style.flex=1,y.appendChild(z),"lujvo"===b.t&&0<(b.rafsiDocuments||[]).length&&w.hasExpansion){var A=document.createElement("input");A.type="button",A.classList.add("tutci","sance"),A.value="\u2194",A.onclick=addJvoPlumbs,y.appendChild(A)}r&&y.appendChild(r),p&&y.appendChild(p);try{var B=new Audio("/sutysisku/sance/vreji/"+encodeValsiForWeb(b.w)+".mp3");B.id="sance_"+encodeValsiForWeb(b.w),B.addEventListener("canplaythrough",()=>{var a=Array.from(document.querySelectorAll("[data-valsi=\""+encodeValsiForWeb(b.w)+"\"]"))[0];a&&!document.getElementById("sance_"+encodeValsiForWeb(b.w))&&(a.innerHTML+="<button class=\"tutci sance\" onclick=\"document.getElementById('sance_"+encodeValsiForWeb(b.w)+"').play()\">\u25B6</button>",a.appendChild(B))})}catch(a){}if(h.appendChild(y),x&&(window.muplis||20<b.w.length)&&h.appendChild(x),"arxivo"!==e&&b.d){var C=document.createElement("div");if(C.classList.add("definition","valsi"),b.d&&b.d.nasezvafahi)C.classList.add("nasezvafahi","noselect"),C.innerHTML=window.nasezvafahi;else{var D=w.tergeha;"velcusku"!==e&&(D=D.replace(/\n/g,"<br/>")+" "),C.innerHTML=D}h.appendChild(C)}if("arxivo"===e){var E=document.createElement("div");E.classList.add("definition","valsi","pointer"),E.innerHTML=ConstructArxivoValsiExtract(b.d,d,50),E.addEventListener("click",function(){E.style.display="none",E.nextElementSibling.style.display="block"}),h.appendChild(E);var C=document.createElement("div");C.classList.add("definition","valsi"),C.style.display="none",b.d&&b.d.nasezvafahi?(C.classList.add("nasezvafahi","noselect"),C.innerHTML=window.nasezvafahi):(C.innerHTML=basna({def:b.d,query:d}).replace(/\n/g,"<br/>")+" ",C.addEventListener("click",function(){C.style.display="none",C.previousElementSibling.style.display="block",C.parentElement.scrollIntoView()})),h.appendChild(C)}if(b.n){var C=document.createElement("div");C.classList.add("notes","valsi"),C.innerHTML=melbi_uenzi({def:b.n,query:d,seskari:e}).tergeha+" ",h.appendChild(C)}if(0==f&&"velcusku"!==e){var k=CLL();k&&h.appendChild(k)}if(b.e){var C=document.createElement("div");C.classList.add("examples","valsi"),C.innerHTML="<table class='ciksi'>"+melbi_uenzi({def:(b.e+"\n").replace(/%/g,"\n").replace(/(.*?) — (.*?)\n/g,"<tr><td class='mupligreku'><b>$1</b></td><td class='mupligreku'><i>$2</i></td></tr>\n"),query:d,seskari:e}).tergeha+"</table> ",h.appendChild(C)}if(b.k){var C=document.createElement("div");C.className="related",C.innerHTML="See also: "+melbi_uenzi({def:b.k,query:d,seskari:e}).tergeha+" ",h.appendChild(C)}if(0<(b.r||[]).length&&!b.l&&window.xuzganalojudri){var F=document.createElement("div");for(F.className="rafsi noselect",F.innerHTML="rafsi: ",J=0;J<b.r.length;J++){var G=document.createElement("span");G.className="pamei";var H=b.r[J];if((b.t||"").match(/lujvo/)){var I=document.createElement("a");I.setAttribute("href","#seskari="+e+"&sisku="+encodeUrl(H)),I.text=H,G.appendChild(I)}else G.innerHTML=basna({def:H,query:d});G.innerHTML+=" ",F.appendChild(G)}h.appendChild(F)}if(0<(b.rafsiDocuments||[]).length){var a=document.createElement("div");a.classList.add("definition","subdefinitions");for(var J=0;J<b.rafsiDocuments.length;J++)a.appendChild(skicu_palodovalsi({def:b.rafsiDocuments[J],inner:!0,index:f+"_"+J,subtype:"r"}));h.appendChild(a)}return h.addEventListener("click",clicked),h}function encodeValsiForWeb(a){return encodeURIComponent(a).replace(/'/g,"h")}function plukaquery(b){return"^"!==b.charAt(0)&&"$"!==b.slice(-1)?b.replace(/\./g," ").replace(/ {2,}/g," ").replace(/’/g,"'").trim():b}function encodeUrl(a){return encodeURIComponent((a||"").replace(/ /g,"_")).replace(/'/g,"%27")}function decodeUrl(a){return decodeURIComponent(a.replace(/&amp;/g,"&").replace(/%27/g,"'")).replace(/[_\+]/g," ")}function escHtml(b,c){return b=(b||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;"),c||(b=b.replace(/'/g,"&#039;")),b}function skicu_rolodovalsi({query:a,seskari:b}){var c=Math.min(window.jimte,results.length);if(0===resultCount){var d=CLL(!0);d&&outp.appendChild(d)}for(;resultCount<c;resultCount++)outp.appendChild(skicu_palodovalsi({def:results[resultCount],query:a,seskari:b,length:results.length,index:resultCount}))}"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./sw.js").then(function(a){console.log("ServiceWorker registration successful with scope: ",a.scope)},function(a){console.log("ServiceWorker registration failed: ",a)})});var rows=[["p","t","k","f","s","c"],["b","d","g","v","z","j"],["m","l","n","r",,"x","'"],["a","e","i","o","u","y"],[],["aia","aua"],["au","ai","ei","oi"]],audio=document.querySelector("#audio");function text(a,b,c){var d=document.createElement(a);return d.textContent=b,c&&(d.className=c),d}function elem(a,b,c){var d=document.createElement(a);return c&&(d.className=c),Array.isArray(b)?b.forEach(function(a){d.appendChild(a)}):b&&d.appendChild(b),d}function play(a){audio.src=a,audio.play()}document.querySelector("#table").appendChild(elem("table",rows.map(function(a){return elem("tr",a.map(function(a){var b=text("button",a,"bangu");return b.onclick=function(){play("/sutysisku/sance/lerfu/"+encodeURIComponent(a)+".ogg")},elem("td",b)}))}),"centero"));var socket,socket1Chat;ciska.focus();